'use babel';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = post;
function httpRequest(method, path, body) {
  var headers = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];

  return new Promise(function (resolve, reject) {
    var xmlhttp = new XMLHttpRequest();

    xmlhttp.open(method, path);
    xmlhttp.responseType = 'json';

    xmlhttp.setRequestHeader('Accept', 'application/json');
    xmlhttp.setRequestHeader('Content-Type', 'application/json');

    Object.keys(headers).forEach(function (key) {
      xmlhttp.setRequestHeader(key, headers[key]);
    });

    xmlhttp.addEventListener('load', function (e) {
      return resolve(xmlhttp.response, e);
    });
    xmlhttp.addEventListener('error', function (e) {
      return reject(xmlhttp.response, e);
    });

    xmlhttp.send(JSON.stringify(body));
  });
}

function post(url, body, headers) {
  return httpRequest('POST', url, body, headers);
}

module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RlcGxveWVyL2xlYXJuLWlkZS9idWlsZC9vdXQvYXBwL25vZGVfbW9kdWxlcy9sZWFybi1pZGUvbGliL3Bvc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FBVyxDQUFBOztBQUVYLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFlBQVksRUFBRTtBQUMzQyxPQUFLLEVBQUUsSUFBSTtDQUNaLENBQUMsQ0FBQztBQUNILE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FrQk0sSUFBSSxDQUFBO0FBckI1QixTQUFTLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBYztBQUtuRCxNQUx1QyxPQUFPLEdBQUEsU0FBQSxDQUFBLE1BQUEsSUFBQSxDQUFBLElBQUEsU0FBQSxDQUFBLENBQUEsQ0FBQSxLQUFBLFNBQUEsR0FBQyxFQUFFLEdBQUEsU0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBOztBQUNqRCxTQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU0sRUFBSztBQUN0QyxRQUFJLE9BQU8sR0FBRyxJQUFJLGNBQWMsRUFBRSxDQUFDOztBQUVuQyxXQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztBQUMzQixXQUFPLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQzs7QUFFOUIsV0FBTyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0FBQ3ZELFdBQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLEVBQUUsa0JBQWtCLENBQUMsQ0FBQzs7QUFFN0QsVUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQyxHQUFHLEVBQUs7QUFDcEMsYUFBTyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUM3QyxDQUFDLENBQUM7O0FBRUgsV0FBTyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxVQUFDLENBQUMsRUFBQTtBQU9qQyxhQVBzQyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQTtLQUFBLENBQUMsQ0FBQTtBQUNyRSxXQUFPLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQUMsQ0FBQyxFQUFBO0FBU2xDLGFBVHVDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFBO0tBQUEsQ0FBQyxDQUFBOztBQUVyRSxXQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztHQUNwQyxDQUFDLENBQUM7Q0FDSjs7QUFFYyxTQUFTLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRTtBQUMvQyxTQUFPLFdBQVcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQTtDQUMvQzs7QUFZRCxNQUFNLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyIsImZpbGUiOiIvaG9tZS9kZXBsb3llci9sZWFybi1pZGUvYnVpbGQvb3V0L2FwcC9ub2RlX21vZHVsZXMvbGVhcm4taWRlL2xpYi9wb3N0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCdcblxuZnVuY3Rpb24gaHR0cFJlcXVlc3QobWV0aG9kLCBwYXRoLCBib2R5LCBoZWFkZXJzPXt9KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdmFyIHhtbGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIHhtbGh0dHAub3BlbihtZXRob2QsIHBhdGgpO1xuICAgIHhtbGh0dHAucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuXG4gICAgeG1saHR0cC5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIHhtbGh0dHAuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgeG1saHR0cC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICB9KTtcblxuICAgIHhtbGh0dHAuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIChlKSA9PiByZXNvbHZlKHhtbGh0dHAucmVzcG9uc2UsIGUpKVxuICAgIHhtbGh0dHAuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZSkgPT4gcmVqZWN0KHhtbGh0dHAucmVzcG9uc2UsIGUpKVxuXG4gICAgeG1saHR0cC5zZW5kKEpTT04uc3RyaW5naWZ5KGJvZHkpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvc3QodXJsLCBib2R5LCBoZWFkZXJzKSB7XG4gIHJldHVybiBodHRwUmVxdWVzdCgnUE9TVCcsIHVybCwgYm9keSwgaGVhZGVycylcbn1cblxuIl19