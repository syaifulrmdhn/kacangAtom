(function() {
  module.exports = function(colorPicker) {
    return {
      element: null,
      activate: function() {
        var _halfArrowWidth;
        _halfArrowWidth = null;
        this.element = {
          el: (function() {
            var _classPrefix, _el;
            _classPrefix = colorPicker.element.el.className;
            _el = document.createElement('div');
            _el.classList.add(_classPrefix + "-arrow");
            return _el;
          })(),
          addClass: function(className) {
            this.el.classList.add(className);
            return this;
          },
          removeClass: function(className) {
            this.el.classList.remove(className);
            return this;
          },
          hasClass: function(className) {
            return this.el.classList.contains(className);
          },
          width: function() {
            return this.el.offsetWidth;
          },
          height: function() {
            return this.el.offsetHeight;
          },
          setPosition: function(x) {
            this.el.style.left = x + "px";
            return this;
          },
          previousColor: null,
          setColor: function(smartColor) {
            var _color;
            _color = (typeof smartColor.toRGBA === "function" ? smartColor.toRGBA() : void 0) || 'none';
            if (this.previousColor && this.previousColor === _color) {
              return;
            }
            this.el.style.borderTopColor = _color;
            this.el.style.borderBottomColor = _color;
            return this.previousColor = _color;
          }
        };
        colorPicker.element.add(this.element.el);
        setTimeout((function(_this) {
          return function() {
            return _halfArrowWidth = (_this.element.width() / 2) << 0;
          };
        })(this));
        setTimeout((function(_this) {
          return function() {
            var _newHeight;
            _newHeight = colorPicker.element.height() + _this.element.height();
            return colorPicker.element.setHeight(_newHeight);
          };
        })(this));
        setTimeout((function(_this) {
          return function() {
            var Alpha;
            Alpha = colorPicker.getExtension('Alpha');
            Alpha.onColorChanged(function(smartColor) {
              if (smartColor) {
                return _this.element.setColor(smartColor);
              } else {
                return colorPicker.SmartColor.HEX('#f00');
              }
            });
          };
        })(this));
        colorPicker.onInputVariable((function(_this) {
          return function() {
            return _this.element.setColor(colorPicker.SmartColor.RGBAArray([0, 0, 0, 0]));
          };
        })(this));
        colorPicker.onInputVariableColor((function(_this) {
          return function(smartColor) {
            if (!smartColor) {
              return;
            }
            return _this.element.setColor(smartColor);
          };
        })(this));
        colorPicker.onPositionChange((function(_this) {
          return function(position, colorPickerPosition) {
            return _this.element.setPosition(position.x - colorPickerPosition.x);
          };
        })(this));
        return this;
      }
    };
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvc3lhaWYvLmF0b20vcGFja2FnZXMvY29sb3ItcGlja2VyL2xpYi9leHRlbnNpb25zL0Fycm93LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLSTtFQUFBLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLFNBQUMsV0FBRDtXQUNiO01BQUEsT0FBQSxFQUFTLElBQVQ7TUFLQSxRQUFBLEVBQVUsU0FBQTtBQUNOLFlBQUE7UUFBQSxlQUFBLEdBQWtCO1FBSWxCLElBQUMsQ0FBQSxPQUFELEdBQ0k7VUFBQSxFQUFBLEVBQU8sQ0FBQSxTQUFBO0FBQ0gsZ0JBQUE7WUFBQSxZQUFBLEdBQWUsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7WUFDdEMsR0FBQSxHQUFNLFFBQVEsQ0FBQyxhQUFULENBQXVCLEtBQXZCO1lBQ04sR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFkLENBQXNCLFlBQUYsR0FBZ0IsUUFBcEM7QUFFQSxtQkFBTztVQUxKLENBQUEsQ0FBSCxDQUFBLENBQUo7VUFPQSxRQUFBLEVBQVUsU0FBQyxTQUFEO1lBQWUsSUFBQyxDQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBZCxDQUFrQixTQUFsQjtBQUE2QixtQkFBTztVQUFuRCxDQVBWO1VBUUEsV0FBQSxFQUFhLFNBQUMsU0FBRDtZQUFlLElBQUMsQ0FBQSxFQUFFLENBQUMsU0FBUyxDQUFDLE1BQWQsQ0FBcUIsU0FBckI7QUFBZ0MsbUJBQU87VUFBdEQsQ0FSYjtVQVNBLFFBQUEsRUFBVSxTQUFDLFNBQUQ7bUJBQWUsSUFBQyxDQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBZCxDQUF1QixTQUF2QjtVQUFmLENBVFY7VUFXQSxLQUFBLEVBQU8sU0FBQTttQkFBRyxJQUFDLENBQUEsRUFBRSxDQUFDO1VBQVAsQ0FYUDtVQVlBLE1BQUEsRUFBUSxTQUFBO21CQUFHLElBQUMsQ0FBQSxFQUFFLENBQUM7VUFBUCxDQVpSO1VBZ0JB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LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyAgQ29sb3IgUGlja2VyL2V4dGVuc2lvbnM6IEFycm93XG4jICBBbiBhcnJvdyBwb2ludGluZyBhdCB0aGUgY3VycmVudCBzZWxlY3Rpb25cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSAoY29sb3JQaWNrZXIpIC0+XG4gICAgICAgIGVsZW1lbnQ6IG51bGxcblxuICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICMgIENyZWF0ZSBhbmQgYWN0aXZhdGUgQXJyb3dcbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgYWN0aXZhdGU6IC0+XG4gICAgICAgICAgICBfaGFsZkFycm93V2lkdGggPSBudWxsXG5cbiAgICAgICAgIyAgQ3JlYXRlIGVsZW1lbnRcbiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIEBlbGVtZW50ID1cbiAgICAgICAgICAgICAgICBlbDogZG8gLT5cbiAgICAgICAgICAgICAgICAgICAgX2NsYXNzUHJlZml4ID0gY29sb3JQaWNrZXIuZWxlbWVudC5lbC5jbGFzc05hbWVcbiAgICAgICAgICAgICAgICAgICAgX2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAnZGl2J1xuICAgICAgICAgICAgICAgICAgICBfZWwuY2xhc3NMaXN0LmFkZCBcIiN7IF9jbGFzc1ByZWZpeCB9LWFycm93XCJcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2VsXG4gICAgICAgICAgICAgICAgIyBVdGlsaXR5IGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgIGFkZENsYXNzOiAoY2xhc3NOYW1lKSAtPiBAZWwuY2xhc3NMaXN0LmFkZCBjbGFzc05hbWU7IHJldHVybiB0aGlzXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IChjbGFzc05hbWUpIC0+IEBlbC5jbGFzc0xpc3QucmVtb3ZlIGNsYXNzTmFtZTsgcmV0dXJuIHRoaXNcbiAgICAgICAgICAgICAgICBoYXNDbGFzczogKGNsYXNzTmFtZSkgLT4gQGVsLmNsYXNzTGlzdC5jb250YWlucyBjbGFzc05hbWVcblxuICAgICAgICAgICAgICAgIHdpZHRoOiAtPiBAZWwub2Zmc2V0V2lkdGhcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IC0+IEBlbC5vZmZzZXRIZWlnaHRcblxuICAgICAgICAgICAgICAgICMgU2V0IEFycm93IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgIyAtIHgge051bWJlcn1cbiAgICAgICAgICAgICAgICBzZXRQb3NpdGlvbjogKHgpIC0+XG4gICAgICAgICAgICAgICAgICAgIEBlbC5zdHlsZS5sZWZ0ID0gXCIjeyB4IH1weFwiXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXG5cbiAgICAgICAgICAgICAgICAjIFNldCB0aGUgQ29sb3IgZWxlbWVudCBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgICAgICAgICAgICAgcHJldmlvdXNDb2xvcjogbnVsbFxuICAgICAgICAgICAgICAgIHNldENvbG9yOiAoc21hcnRDb2xvcikgLT5cbiAgICAgICAgICAgICAgICAgICAgX2NvbG9yID0gc21hcnRDb2xvci50b1JHQkE/KCkgb3IgJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpZiBAcHJldmlvdXNDb2xvciBhbmQgQHByZXZpb3VzQ29sb3IgaXMgX2NvbG9yXG5cbiAgICAgICAgICAgICAgICAgICAgQGVsLnN0eWxlLmJvcmRlclRvcENvbG9yID0gX2NvbG9yXG4gICAgICAgICAgICAgICAgICAgIEBlbC5zdHlsZS5ib3JkZXJCb3R0b21Db2xvciA9IF9jb2xvclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQHByZXZpb3VzQ29sb3IgPSBfY29sb3JcbiAgICAgICAgICAgIGNvbG9yUGlja2VyLmVsZW1lbnQuYWRkIEBlbGVtZW50LmVsXG5cbiAgICAgICAgIyAgR2V0IGFuZCBzYXZlIGFycm93IHdpZHRoXG4gICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBzZXRUaW1lb3V0ID0+IF9oYWxmQXJyb3dXaWR0aCA9IChAZWxlbWVudC53aWR0aCgpIC8gMikgPDwgMFxuXG4gICAgICAgICMgIEluY3JlYXNlIENvbG9yIFBpY2tlciBoZWlnaHRcbiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIHNldFRpbWVvdXQgPT5cbiAgICAgICAgICAgICAgICBfbmV3SGVpZ2h0ID0gY29sb3JQaWNrZXIuZWxlbWVudC5oZWlnaHQoKSArIEBlbGVtZW50LmhlaWdodCgpXG4gICAgICAgICAgICAgICAgY29sb3JQaWNrZXIuZWxlbWVudC5zZXRIZWlnaHQgX25ld0hlaWdodFxuXG4gICAgICAgICMgIFNldCBBcnJvdyBjb2xvciBvbiBBbHBoYSBjaGFuZ2VcbiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIHNldFRpbWVvdXQgPT4gIyB3YWl0IGZvciB0aGUgRE9NXG4gICAgICAgICAgICAgICAgQWxwaGEgPSBjb2xvclBpY2tlci5nZXRFeHRlbnNpb24gJ0FscGhhJ1xuXG4gICAgICAgICAgICAgICAgQWxwaGEub25Db2xvckNoYW5nZWQgKHNtYXJ0Q29sb3IpID0+XG4gICAgICAgICAgICAgICAgICAgIGlmIHNtYXJ0Q29sb3IgdGhlbiBAZWxlbWVudC5zZXRDb2xvciBzbWFydENvbG9yXG4gICAgICAgICAgICAgICAgICAgICMgRGVmYXVsdCB0byAjZjAwIHJlZFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGNvbG9yUGlja2VyLlNtYXJ0Q29sb3IuSEVYICcjZjAwJ1xuICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICMgIFNldCBBcnJvdyBjb2xvciB0byB0cmFuc3BhcmVudCB3aGVuIGEgdmFyaWFibGUgaXMgaW5wdXRcbiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIGNvbG9yUGlja2VyLm9uSW5wdXRWYXJpYWJsZSA9PlxuICAgICAgICAgICAgICAgIEBlbGVtZW50LnNldENvbG9yIGNvbG9yUGlja2VyLlNtYXJ0Q29sb3IuUkdCQUFycmF5IFswLCAwLCAwLCAwXVxuXG4gICAgICAgICMgIC4uLiBidXQgc2V0IGl0IHRvIHRoZSB2YXJpYWJsZSBjb2xvciB3aGVuIHRoYXQgaXMgZm91bmRcbiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIGNvbG9yUGlja2VyLm9uSW5wdXRWYXJpYWJsZUNvbG9yIChzbWFydENvbG9yKSA9PlxuICAgICAgICAgICAgICAgIHJldHVybiB1bmxlc3Mgc21hcnRDb2xvclxuICAgICAgICAgICAgICAgIEBlbGVtZW50LnNldENvbG9yIHNtYXJ0Q29sb3JcblxuICAgICAgICAjICBQbGFjZSB0aGUgQXJyb3dcbiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIGNvbG9yUGlja2VyLm9uUG9zaXRpb25DaGFuZ2UgKHBvc2l0aW9uLCBjb2xvclBpY2tlclBvc2l0aW9uKSA9PlxuICAgICAgICAgICAgICAgIEBlbGVtZW50LnNldFBvc2l0aW9uIHBvc2l0aW9uLnggLSBjb2xvclBpY2tlclBvc2l0aW9uLnhcbiAgICAgICAgICAgIHJldHVybiB0aGlzXG4iXX0=
